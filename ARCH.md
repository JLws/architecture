
## Компоненти архітектури

### 1. Клієнти
- **Взаємодія**: Спілкуються з бекендом через HTTPS (REST) та WebSocket для месенджера.

### 2. API Gateway
- **Призначення**: Єдина точка входу для всіх клієнтських запитів, відповідає за маршрутизацію, автентифікацію та обмеження частоти запитів.
- **Технологія**: Kong.
- **Функції**:
  - Перевіряє JWT-токени для автентифікації.
  - Направляє запити до відповідних мікросервісів.
  - Обмежує частоту запитів для захисту від зловживань.

### 3. Мікросервіси
Система розділена на незалежні мікросервіси, кожен відповідає за певну функціональність:

- **Сервіс автентифікації (Auth Service)**:
  - Керує автентифікацією та авторизацією користувачів (JWT, RBAC).
- **Сервіс користувачів (User Service)**:
  - Управляє профілями брендів і креаторів (наприклад, `company_name`, `portfolio_url`).
- **Сервіс кампаній (Campaign Service)**:
  - Відповідає за створення та управління кампаній.
- **Сервіс заявок (Application Service)**:
  - Обробляє заявки креаторів на участь у кампаніях.
- **Сервіс месенджера (Messaging Service)**:
  - Забезпечує спілкування між брендами та креаторами в реальному часі.
  - Використовує WebSocket та зберігає повідомлення в MongoDB.
- **Сервіс аналітики (Analytics Service)**:
  - Збирає та обробляє метрики ефективності кампаній.
  - Зберігає дані в ClickHouse для швидких аналітичних запитів.

### 4. Бази даних
- **PostgreSQL**:
  - Основна реляційна база для даних користувачів, кампаній, заявок.
- **MongoDB**:
  - Зберігає повідомлення для месенджера.
- **ClickHouse**:
  - Зберігає аналітичні дані кампаній.
- **Redis**:
  - Використовується для кешування (сесії, списки кампаній) та обмеження частоти запитів.

### 5. Черга повідомлень
- **Технологія**: RabbitMQ.
- **Призначення**: Забезпечує асинхронну взаємодію між мікросервісами.

### 6. Інфраструктура
- **Kubernetes**:
  - Оркеструє мікросервіси для розгортання та горизонтального масштабування.
- **Prometheus + Grafana**:
  - Моніторить продуктивність системи (наприклад, затримки API, використання CPU).
  - Візуалізує метрики через дашборди.
